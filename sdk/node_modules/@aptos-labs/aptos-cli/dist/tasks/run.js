import { spawn } from "child_process";
import { existsSync } from "fs";
import { getOS } from "../utils/getUserOs.js";
import { getLocalBinPath } from "../utils/getLocalBinPath.js";
export const runCLI = async (args = [], binaryPath) => {
    const path = binaryPath || getLocalBinPath();
    if (!existsSync(path)) {
        if (binaryPath) {
            console.error(`Error: Binary not found at specified path: ${binaryPath}`);
            process.exit(1);
        }
        console.log("Aptos CLI not installed, run `npx aptos --install` to install");
        return;
    }
    const os = getOS();
    spawn(path, args, {
        stdio: "inherit",
        shell: os === "Windows",
    });
};
//# sourceMappingURL=run.js.map